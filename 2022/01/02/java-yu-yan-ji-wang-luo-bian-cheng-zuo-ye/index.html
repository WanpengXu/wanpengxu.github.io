

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#908e83">
  <meta name="description" content="2019级课后作业，仅供参考">
  <meta name="author" content="许">
  <meta name="keywords" content="">
  <meta name="description" content="2019级课后作业，仅供参考">
<meta property="og:type" content="article">
<meta property="og:title" content="《Java语言及网络编程》作业">
<meta property="og:url" content="http://example.com/2022/01/02/java-yu-yan-ji-wang-luo-bian-cheng-zuo-ye/index.html">
<meta property="og:site_name" content="须臾所学之野">
<meta property="og:description" content="2019级课后作业，仅供参考">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748550.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748490.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748691.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748748.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748158.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112030947346.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112022112892.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112022053155.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222108247.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222109679.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222114282.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222109641.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222110090.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230028159.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230031849.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230035155.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230035711.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230055042.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230035766.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230034556.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021205793.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020123477.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020940484.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020125971.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020133746.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020943254.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021030651.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020943237.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021015819.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021158510.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021457100.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021540551.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021545898.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021721091.png">
<meta property="article:published_time" content="2022-01-02T09:43:10.000Z">
<meta property="article:modified_time" content="2022-01-21T04:23:48.860Z">
<meta property="article:author" content="许">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748550.png">
  
  <title>《Java语言及网络编程》作业 - 须臾所学之野</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"VR5uSrKiTuoIcwbhhvot8Bf4-gzGzoHsz","app_key":"w57XHS7hMjAYidjnpR0AAoTC","server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>许&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="《Java语言及网络编程》作业">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-01-02 17:43" pubdate>
        2022年1月2日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      35k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      111 分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
    <!-- <a target="_blank" rel="noopener" href="https://github.com/WanpengXu" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style> -->
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">《Java语言及网络编程》作业</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2022年1月21日 中午
                
              </p>
            
            <div class="markdown-body">
              <h1 id="作业一"><a href="#作业一" class="headerlink" title="作业一"></a>作业一</h1><h2 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>计算多项式1！+2！+3！…+n!，当多项式之和超过10000时停止，并输出累加之和以及n的值。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>将多项式记为$\sum\limits_{i=1}^{n}i!$ ，那么显然程序需要两部分</p>
<ul>
<li>对$i$求其阶乘$i!$的部分，在factorial方法中完成</li>
<li>对$i!$进行循环求和的部分，在main方法中完成</li>
</ul>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">First</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> n = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; sum &lt;= <span class="hljs-number">10000</span>; i++) &#123;<br>            sum += factorial(i);<br>            n = i;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;sum=&quot;</span> + sum);<br>        System.out.println(<span class="hljs-string">&quot;n=&quot;</span> + n);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">factorial</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> x == <span class="hljs-number">1</span> ? <span class="hljs-number">1</span> : x * factorial(x - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="运行截图"><a href="#运行截图" class="headerlink" title="运行截图"></a>运行截图</h3><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748550.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h2 id="第二题"><a href="#第二题" class="headerlink" title="第二题"></a>第二题</h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><p>从标准输入端输入一个字符，判断字符是数字、西文字母还是其他的字符。</p>
<h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><p>题目限定使用<strong>标准输入</strong>获取<strong>字符</strong>，即需要使用<code>(char) System.in.read()</code>，判断字符类型只需判断区间即可，java会隐式地将char转为ASCII码（int）进行比较。</p>
<p>值得注意的是java必须对可能被抛出的异常进行捕获或声明，否则编译不予通过，这体现了语言的健壮性。</p>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Second</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">char</span> ch = (<span class="hljs-keyword">char</span>) System.in.read();<br>            <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;0&#x27;</span> &lt;= ch &amp;&amp; ch &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)<br>                System.out.println(ch + <span class="hljs-string">&quot; is digit&quot;</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;a&#x27;</span> &lt;= ch &amp;&amp; ch &lt;= <span class="hljs-string">&#x27;z&#x27;</span> || <span class="hljs-string">&#x27;A&#x27;</span> &lt;= ch &amp;&amp; ch &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>)<br>                System.out.println(ch + <span class="hljs-string">&quot; is letter&quot;</span>);<br>            <span class="hljs-keyword">else</span><br>                System.out.println(ch + <span class="hljs-string">&quot; is other&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>            <span class="hljs-comment">// System.out.println(&quot;Error reading from user&quot;);</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="运行截图-1"><a href="#运行截图-1" class="headerlink" title="运行截图"></a>运行截图</h3><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748490.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h2 id="第三题"><a href="#第三题" class="headerlink" title="第三题"></a>第三题</h2><h3 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h3><p>利用辗转相除法（欧几里得算法）求两个正整数的最大公约数</p>
<h3 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h3><p>欧几里得算法依赖于原理: $gcd(a,b) = gcd(b, a\ mod\ b)$ </p>
<p>$proof：$</p>
<p>​        不妨设$a&gt;b$且$r=a\ mod\ b$ ,$r$不为0</p>
<p>​        那么有$a=kb+r$</p>
<p>​        假设d是a,b的一个公约数，记作$d|a$, $d|b$</p>
<p>​        由$r = a - kb$得$\frac{r}{d}=\frac{a}{d}-k\frac{b}{d}$</p>
<p>​        因为$d|a$, $d|b$，所以$\frac{a}{d}-k\frac{b}{d}\in{Z}$</p>
<p>​        即$\frac{r}{d}\in{Z}$，$d|r$，$d|(a\ mod\ b)$</p>
<p>​        因为$d|a$,  $d|b$,  $d|(a\ mod\ b)$</p>
<p>​        所以$d<em>{max}|a$,  $d</em>{max}|b$,  $d_{max}|(a\ mod\ b)$</p>
<p>​        即 $gcd(a,b) = gcd(b, a\ mod\ b)$ </p>
<p>​        $Q.E.D.$</p>
<p>值得注意的是，我们看似只证明了$a&gt;b$时的辗转相除法，但算法实现时不需要考虑$a&lt;b$的情况，因为如果$a&lt;b$，那么$a\ mod\ b=a$，即 $gcd(a,b) = gcd(b, a\ mod\ b)=gcd(b,a)$ ，仍然是$gcd(较大数, 较小数)$的形式。</p>
<p>另外，Scanner对象使用后需要关闭。</p>
<h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Third</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Scanner reader = <span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">int</span> x = reader.nextInt();<br>            <span class="hljs-keyword">int</span> y = reader.nextInt();<br>            System.out.println(<span class="hljs-string">&quot;gcd(&quot;</span> + x + <span class="hljs-string">&quot;,&quot;</span> + y + <span class="hljs-string">&quot;)=&quot;</span> + gcd(x, y));<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            reader.close();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (a % b == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> b;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> gcd(b, a % b);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="运行截图-2"><a href="#运行截图-2" class="headerlink" title="运行截图"></a>运行截图</h3><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748691.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h2 id="第四题"><a href="#第四题" class="headerlink" title="第四题"></a>第四题</h2><h3 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h3><p>假设一个数在1000到1100之间，那除以3结果余2，除以5结果余3，除以7结果余2（中国剩余定理），求此数。</p>
<h3 id="分析-3"><a href="#分析-3" class="headerlink" title="分析"></a>分析</h3><p>题目限定了未知数的范围，应该是在暗示使用穷举法。</p>
<p>这道题用中国剩余定理（CRT）做的话最小答案应该是23，另外java没有引用传递，我目前还没办法编写CRT算法所需的拓展欧几里得除法。</p>
<h3 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fourth</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x=<span class="hljs-number">1000</span>;x&lt;=<span class="hljs-number">1100</span>;x++)&#123;<br>            <span class="hljs-keyword">if</span> (x % <span class="hljs-number">3</span> == <span class="hljs-number">2</span> &amp;&amp; x % <span class="hljs-number">5</span> == <span class="hljs-number">3</span> &amp;&amp; x % <span class="hljs-number">7</span> == <span class="hljs-number">2</span>)<br>                System.out.println(x);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="运行截图-3"><a href="#运行截图-3" class="headerlink" title="运行截图"></a>运行截图</h3><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748748.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h2 id="第五题"><a href="#第五题" class="headerlink" title="第五题"></a>第五题</h2><h3 id="题目-4"><a href="#题目-4" class="headerlink" title="题目"></a>题目</h3><p>小球从100米高度自由落下，每次触地后反弹到原来高度的一半，求第10次触地时经历的总路程以及第10次反弹高度。</p>
<h3 id="分析-4"><a href="#分析-4" class="headerlink" title="分析"></a>分析</h3><p>基本上是学习每种语言必写的一道题了，按照题意模拟即可。</p>
<p>要注意的是“第10次触地<strong>时</strong>经历的总路程”和与“第10次反弹高度”同义的“第10次触地<strong>后</strong>的反弹高度”</p>
<p>我们进行模拟的时候只能模拟一个来回，即触地前的下落过程和触地后的反弹过程，那么对于<strong>“触地时”</strong>这种发生在一个来回中间的事件，我们要么在十个来回结束后减去最后一次的半个来回（反弹过程） ，要么单独只模拟九个来回，最后一个来回单独算，要么在模拟来回的过程中加一个中断<code>if (i == 10) sumTen=sum</code>……总之方法很多，我选择了第一个。</p>
<h3 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fifth</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">double</span> h = <span class="hljs-number">100</span>;<br>        <span class="hljs-keyword">double</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            sum += h;<br>            h /= <span class="hljs-number">2</span>;<br>            sum += h;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;Total distance at 10th touchdown=&quot;</span> + (sum - h));<br>        System.out.println(<span class="hljs-string">&quot;Height of rise after 10th touchdown=&quot;</span> + h);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="运行截图-4"><a href="#运行截图-4" class="headerlink" title="运行截图"></a>运行截图</h3><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021748158.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h1 id="作业二"><a href="#作业二" class="headerlink" title="作业二"></a>作业二</h1><h2 id="第一题-1"><a href="#第一题-1" class="headerlink" title="第一题"></a>第一题</h2><h3 id="题目-5"><a href="#题目-5" class="headerlink" title="题目"></a>题目</h3><p>读程序，写结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(D obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;A and D&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(A obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;A and A&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">A</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(B obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;B and B&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(A obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;B and A&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">B</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(C obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;C and C&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(B obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;C and B&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">B</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(D obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;D and D&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(B obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;D and B&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">mainTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        A a1 = <span class="hljs-keyword">new</span> A();<br>        A a2 = <span class="hljs-keyword">new</span> B();<br>        B b = <span class="hljs-keyword">new</span> B();<br>        C c = <span class="hljs-keyword">new</span> C();<br>        D d = <span class="hljs-keyword">new</span> D();<br>        System.out.println(a1.Show(b));<br>        System.out.println(a1.Show(c));<br>        System.out.println(a1.Show(d));<br>        System.out.println(a2.Show(b));<br>        System.out.println(a2.Show(c));<br>        System.out.println(a2.Show(d));<br>        System.out.println(b.Show(b));<br>        System.out.println(b.Show(c));<br>        System.out.println(b.Show(d));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs armasm">A <span class="hljs-keyword">and</span> A<br>A <span class="hljs-keyword">and</span> A<br>A <span class="hljs-keyword">and</span> D<br><span class="hljs-keyword">B</span> <span class="hljs-keyword">and</span> A<br><span class="hljs-keyword">B</span> <span class="hljs-keyword">and</span> A<br>A <span class="hljs-keyword">and</span> D<br><span class="hljs-keyword">B</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">B</span><br><span class="hljs-keyword">B</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">B</span><br>A <span class="hljs-keyword">and</span> D<br></code></pre></td></tr></table></figure>
<h3 id="分析-5"><a href="#分析-5" class="headerlink" title="分析"></a>分析</h3><p>先来看一下类图</p>
<pre><code class=" mermaid">classDiagram
     A &lt;|-- B
     B &lt;|-- C
     B &lt;|-- D
     class A&#123;
         +Show(D obj) String
         +Show(A obj) String
     &#125;
     class B&#123;
         +Show(B obj) String
         +Show(A obj) String
     &#125;
     class C&#123;
         +Show(C obj) String
         +Show(B obj) String
     &#125;
     class D&#123;
         +Show(D obj) String
         +Show(B obj) String
     &#125;
</code></pre>
<p>继承链：从某个特定的类到其祖先的路径。</p>
<p>在类图中继承链便是从某个类沿向上箭头直到最初的祖先的路径。</p>
<p>动态绑定方法调用的优先问题 ，优先级由高到低依次为：一级调度this.show(O)、二级调度super.show(O)、三级调度this.show((super)O)、 四级调度super.show((super)O)</p>
<p>首先是a1对象的调用，由<code>A a1 = new A();</code>知a1的编译时类型是A，运行时类型是<strong>A</strong>，那么a1中的方法有：</p>
<ol>
<li><p>自己定义的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(D obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;A and D&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>自己定义的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(A obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;A and A&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
</ol>
<p>a1.Show(b)：a1中不含有参数为B的方法，由继承链知B可向上转型至A，那么调用<code>2</code>，输出<code>A and A</code></p>
<p>a1.Show(c)：a1中不含有参数为C的方法，由继承链知C可向上转型至A，那么调用<code>2</code>，输出<code>A and A</code></p>
<p>a1.Show(d)：a1中含有参数为D的方法，那么调用<code>1</code>，输出<code>A and D</code></p>
<p>接着是a2对象的调用，由<code>A a2 = new B();</code>知a2的编译时类型是A，运行时类型是<strong>B</strong>，那么a2中的方法有：</p>
<ol>
<li><p>继承自A的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(D obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;A and D&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>继承自A但被自己覆盖的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(A obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;B and A&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>自己定义的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(B obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;B and B&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
</ol>
<p>这里可以使用反射机制进行验证，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br>...<br>        System.out.println(a2.getClass());<br>        Class&lt;? extends A&gt; testa2 = a2.getClass();<br>        Method[] methods = testa2.getMethods();  <span class="hljs-comment">// getDeclaredMethods()</span><br>        <span class="hljs-keyword">for</span> (Method m : methods) &#123;<br>            System.out.println(m);<br>        &#125;<br></code></pre></td></tr></table></figure>
<p>其中:</p>
<ol>
<li><code>getClass()</code>用于获取变量运行时类型的类名;</li>
<li><code>getMethods()</code>用于获取Class变量中的所有方法（从父类继承的和自己声明的）</li>
<li><code>getDeclaredMethods()</code>用于获取Class变量自己声明的方法。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112030947346.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p>但是，由于a2的编译时类型是A，所以在代码中只能调用<code>1</code>和<code>2</code>，否则会报错，即使你的实例中真的有<code>3</code>这个方法。</p>
<p>a2.Show(b)：a2中含有参数为B的方法，但不能调用，由继承链知B可向上转型至A，那么调用<code>2</code>，输出<code>B and A</code></p>
<p>a2.Show(c)：a2中不含有参数为C的方法，由继承链知C可向上转型至A，那么调用<code>2</code>，输出<code>B and A</code></p>
<p>a2.Show(d)：a2中含有参数为D的方法，那么调用<code>1</code>，输出<code>A and D</code></p>
<p>最后是b对象的调用，由<code>B b = new B();</code>知b的编译时类型是B，运行时类型是<strong>B</strong>，那么b中的方法有：</p>
<ol>
<li><p>继承自A的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(D obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;A and D&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>继承自A但被自己覆盖的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(A obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;B and A&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>自己定义的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">Show</span><span class="hljs-params">(B obj)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;B and B&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
</ol>
<p>b.Show(b)：b中含有参数为B的方法，那么调用<code>3</code>，输出<code>B and B</code></p>
<p>b.Show(c)：b中不含有参数为C的方法，由继承链知C可向上转型至B，那么调用<code>3</code>，输出<code>B and B</code></p>
<p>b.Show(d)：b本类不中含有参数为D的方法，但其超类中含有参数为D的方法，那么调用<code>1</code>，输出<code>A and D</code></p>
<h2 id="第二题-1"><a href="#第二题-1" class="headerlink" title="第二题"></a>第二题</h2><h3 id="题目-6"><a href="#题目-6" class="headerlink" title="题目"></a>题目</h3><p>读程序，写结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Base</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name = <span class="hljs-string">&quot;base&quot;</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Base</span><span class="hljs-params">()</span> </span>&#123;<br>        tellName();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tellName</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Base tell name: &quot;</span> + name);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Derived</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Base</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name = <span class="hljs-string">&quot;derived&quot;</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Derived</span><span class="hljs-params">()</span> </span>&#123;<br>        tellName();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tellName</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Derived tell name: &quot;</span> + name);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">new</span> Derived();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="答案-1"><a href="#答案-1" class="headerlink" title="答案"></a>答案</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">Derived <span class="hljs-keyword">tell</span> <span class="hljs-built_in">name</span>: null<br>Derived <span class="hljs-keyword">tell</span> <span class="hljs-built_in">name</span>: derived<br></code></pre></td></tr></table></figure>
<h3 id="分析-6"><a href="#分析-6" class="headerlink" title="分析"></a>分析</h3><p>流程如下：</p>
<ol>
<li><p>从<code>main</code>方法进入，执行<code>new Derived();</code>语句。</p>
</li>
<li><p>调用Derived的构造方法<code>Derived()</code>。</p>
</li>
<li><p>因<code>class Derived extends Base</code>，所以<code>Derived()</code>的第一句是由编译器添加的<code>Base()</code>，那么调用其父类的构造方法<code>Base()</code>。</p>
</li>
<li><p>Base类的构造方法初始化自己的属性，首先执行<code>private String name = &quot;base&quot;;</code>，使Base.name=”base”，随后调用<code>tellName()</code>方法，因为运行时类型是Derived，所以根据继承链，优先匹配Derived中的<code>tellName()</code>方法，但因为此时还没有到Derived初始化，所以this.name=null，打印出的结果为</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">Derived <span class="hljs-keyword">tell</span> <span class="hljs-built_in">name</span>: null<br></code></pre></td></tr></table></figure>
<p>随后<code>Base()</code>方法结束,继续执行<code>Derived()</code>。</p>
</li>
<li><p>此时<code>Derived()</code>初始化自己的属性，执行<code>private String name = &quot;derived&quot;;</code>，使this.name=”derived”，随后调用<code>tellName()</code>方法，同样的原因，匹配Derived中的<code>tellName()</code>方法，但此时this.name=”derived”，打印出的结果为</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">Derived <span class="hljs-keyword">tell</span> <span class="hljs-built_in">name</span>: derived<br></code></pre></td></tr></table></figure>
<p>随后<code>Derived()</code>方法结束，<code>new Derived();</code>语句完成，<code>main</code>方法结束，程序结束。</p>
</li>
</ol>
<h2 id="第三题-1"><a href="#第三题-1" class="headerlink" title="第三题"></a>第三题</h2><h3 id="题目-7"><a href="#题目-7" class="headerlink" title="题目"></a>题目</h3><p>生成动物，要求如下：</p>
<ol>
<li>循环通过标准输入端输入需要生成的动物，当遇到结束标志，则结束程序运行。</li>
<li>每次生成动物，通过标准输出端显示动物的信息。</li>
<li>动物的信息包括：目前所有动物的总数，当前这一类动物的总数。</li>
<li>整个程序结构用工厂模式设计，保证将来动物园有新的动物加入时，程序可扩展。</li>
</ol>
<h3 id="答案-2"><a href="#答案-2" class="headerlink" title="答案"></a>答案</h3><h4 id="项目结构树"><a href="#项目结构树" class="headerlink" title="项目结构树"></a>项目结构树</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">D:.<br>│  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">IdeaProjects</span>.</span></span>iml<br>│  <br>├─.idea<br>│<span class="hljs-operator">  ...    </span><br><span class="hljs-operator"></span>├─out<br>│<span class="hljs-operator">  ...</span><br><span class="hljs-operator"></span>└─src<br>    └─com<br>        └─wanpengxu<br>            └─homework2<br>                │  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Derived</span>.</span></span>java<br>                │  mainTest.java<br>                │  <br>                └─third<br>                    │  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Main</span>.</span></span>java<br>                    │  <br>                    ├─factory<br>                    │      <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">AnimalFactory</span>.</span></span>java<br>                    │      <br>                    └─product<br>                            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Animal</span>.</span></span>java<br>                            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Cat</span>.</span></span>java<br>                            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Dog</span>.</span></span>java<br>                            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Panda</span>.</span></span>java<br></code></pre></td></tr></table></figure>
<h4 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h4><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112022112892.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h4 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h4><ol>
<li><p>Animal.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2.third.product;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">public</span> String name;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        num += <span class="hljs-number">1</span>;<br>        System.out.println(<span class="hljs-string">&quot;现在共有&quot;</span> + num + <span class="hljs-string">&quot;只动物！&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getInformation</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\&quot;&quot;</span> + name + <span class="hljs-string">&quot;\&quot;&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Cat.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2.third.product;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> _num = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Cat</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">super</span>(name);<br>        Cat._num += <span class="hljs-number">1</span>;<br>        System.out.println(<span class="hljs-string">&quot;你获得了1只猫！现在已有&quot;</span> + getCatNumber() + <span class="hljs-string">&quot;只猫！&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getInformation</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\&quot;&quot;</span> + name + <span class="hljs-string">&quot;\&quot;：一只猫&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCatNumber</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> Cat._num;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Dog.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2.third.product;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> _num = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Dog</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">super</span>(name);<br>        Dog._num += <span class="hljs-number">1</span>;<br>        System.out.println(<span class="hljs-string">&quot;你获得了1只狗！现在已有&quot;</span> + getDogNumber() + <span class="hljs-string">&quot;只狗！&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getInformation</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\&quot;&quot;</span> + name + <span class="hljs-string">&quot;\&quot;：一只狗&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getDogNumber</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> Dog._num;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Panda.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2.third.product;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Panda</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> _num = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Panda</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">super</span>(name);<br>        Panda._num += <span class="hljs-number">1</span>;<br>        System.out.println(<span class="hljs-string">&quot;你获得了1只熊猫！现在已有&quot;</span> + getPandaNumber() + <span class="hljs-string">&quot;只熊猫！&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getInformation</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\&quot;&quot;</span> + name + <span class="hljs-string">&quot;\&quot;：一只熊猫&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getPandaNumber</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> Panda._num;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>AnimalFactory.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2.third.factory;<br><br><span class="hljs-keyword">import</span> com.wanpengxu.homework2.third.product.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimalFactory</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Animal <span class="hljs-title">addAnimal</span><span class="hljs-params">(String type, String name)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">switch</span> (type.toLowerCase()) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;cat&quot;</span> -&gt; <span class="hljs-keyword">new</span> Cat(name);<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;dog&quot;</span> -&gt; <span class="hljs-keyword">new</span> Dog(name);<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;panda&quot;</span> -&gt; <span class="hljs-keyword">new</span> Panda(name);<br>            <span class="hljs-keyword">default</span> -&gt; <span class="hljs-keyword">null</span>;<br>        &#125;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Main.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wanpengxu.homework2.third;<br><br><span class="hljs-keyword">import</span> com.wanpengxu.homework2.third.factory.AnimalFactory;<br><span class="hljs-keyword">import</span> com.wanpengxu.homework2.third.product.Animal;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ArrayList&lt;Animal&gt; animals = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>        System.out.println(<span class="hljs-string">&quot;欢迎来到动物工厂！工厂现在可以生产以下动物：Cat, Dog, Panda！输入Quit退出！&quot;</span>);<br>        <span class="hljs-keyword">try</span> (Scanner sc = <span class="hljs-keyword">new</span> Scanner(System.in)) &#123;  <span class="hljs-comment">// try-with-resources 类似try-finally</span><br>            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;<br>                System.out.print(<span class="hljs-string">&quot;请输入想生产的动物类型：&quot;</span>);<br>                String type = sc.next();<br>                <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;Quit&quot;</span>))<br>                    <span class="hljs-keyword">break</span>;<br>                System.out.print(<span class="hljs-string">&quot;请输入它的名字：&quot;</span>);<br>                String name = sc.next();<br>                Animal animal = AnimalFactory.addAnimal(type, name);<br>                <span class="hljs-keyword">if</span> (animal == <span class="hljs-keyword">null</span>)<br>                    System.out.println(<span class="hljs-string">&quot;请输入可生产的动物！&quot;</span>);<br>                <span class="hljs-keyword">else</span><br>                    animals.add(animal);<br>            &#125;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;生成完毕！现在你有：&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Animal animal : animals)<br>            System.out.println(animal.getInformation());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="运行截图-5"><a href="#运行截图-5" class="headerlink" title="运行截图"></a>运行截图</h4><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112022053155.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h3 id="分析-7"><a href="#分析-7" class="headerlink" title="分析"></a>分析</h3><p>题目要求使用工厂模式，那么按照工厂模式的实现，有：</p>
<ol>
<li><p>要有一个父类Animal，这里因为动物本身有一些公用的属性和方法，所以最好不要定义为abstract类；</p>
</li>
<li><p>要有一些继承自Animal的具体的类作为某种动物，如Cat, Dog, Panda；</p>
</li>
<li><p>需要一个工厂类AnimalFactory生成基于给定信息的实体类的对象，这里我是用增强型switch实现的，当然也可以用普通switch或if-else if-else实现；</p>
</li>
<li><p>需要一个使用该工厂的类（用户类）来操作工厂完成生产任务。我加入了一点功能：生成动物时为其命名，并在退出后显示已生成动物名和其类型。另外，使用了可以自动关闭资源的try-with-resources语法，它的功能类似于try-finally，但语法十分精简。</p>
</li>
</ol>
<p>因为采用了工厂模式，所以拓展动物种类的操作也很简单：</p>
<ol>
<li>复制一份动物类，将其类名重构为新增的动物，方法名同理；</li>
<li>更改一些字符串以与新增动物相对应；</li>
<li>在AnimalFactory类中新增一行case。</li>
</ol>
<h1 id="作业三"><a href="#作业三" class="headerlink" title="作业三"></a>作业三</h1><h2 id="第一题-2"><a href="#第一题-2" class="headerlink" title="第一题"></a>第一题</h2><h3 id="题目-8"><a href="#题目-8" class="headerlink" title="题目"></a>题目</h3><ul>
<li><p>用泛型List管理学生信息，学生对象信息为：姓名、学号、年龄、专业</p>
</li>
<li><p>对学生列表完成：添加、删除、查找、全部显示操作。</p>
</li>
</ul>
<h3 id="答案-3"><a href="#答案-3" class="headerlink" title="答案"></a>答案</h3><h4 id="项目结构树-1"><a href="#项目结构树-1" class="headerlink" title="项目结构树"></a>项目结构树</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">D:.<br>│<span class="hljs-operator"> ...                             </span><br><span class="hljs-operator"></span>└─src<br>    └─edu<br>        └─wanpengxu      <br>            └─homework3<br>                └─first<br>                       <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Student</span>.</span></span>java<br>                       <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">StudentAdministrator</span>.</span></span>java<br>                       <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Test</span>.</span></span>java<br></code></pre></td></tr></table></figure>
<h4 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h4><p>Student.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework3.first;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String studentID;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br>    <span class="hljs-keyword">private</span> String major;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">(String name, String studentID, <span class="hljs-keyword">int</span> age, String major)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.studentID = studentID;<br>        <span class="hljs-keyword">this</span>.age = age;<br>        <span class="hljs-keyword">this</span>.major = major;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getStudentID</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> studentID;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMajor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> major;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setStudentID</span><span class="hljs-params">(String studentID)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.studentID = studentID;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMajor</span><span class="hljs-params">(String major)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.major = major;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;name:&quot;</span> + name);<br>        System.out.println(<span class="hljs-string">&quot;studentID:&quot;</span> + studentID);<br>        System.out.println(<span class="hljs-string">&quot;age:&quot;</span> + age);<br>        System.out.println(<span class="hljs-string">&quot;major:&quot;</span> + major);<br>        System.out.println();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>StudentAdministrator.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework3.first;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StudentAdministrator</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;Student&gt; database = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();  <span class="hljs-comment">// database变量始终引用数组</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">add</span><span class="hljs-params">(Student student)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(student.getStudentID().length()!=<span class="hljs-number">8</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(Student studentI:database)&#123;<br>            <span class="hljs-keyword">if</span>(studentI.getStudentID().equals(student.getStudentID()))&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> database.add(student);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Student&gt; <span class="hljs-title">find</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        List&lt;Student&gt; foundStudent = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (Student student : database) &#123;<br>            <span class="hljs-keyword">if</span> (student.getName().equals(name)) &#123;<br>                foundStudent.add(student);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> foundStudent;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span><span class="hljs-params">(String studentID)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> database.removeIf(student -&gt; student.getStudentID().equals(studentID));<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">showAll</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (Student student : database) &#123;<br>            student.display();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Test.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework3.first;<br><br><span class="hljs-keyword">import</span> java.io.Console;<br><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        HashMap&lt;String, String&gt; administrators = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        StudentAdministrator studentAdministrator = <span class="hljs-keyword">null</span>;<br>        System.out.println(<span class="hljs-string">&quot;Welcome to undergraduate management system!&quot;</span>);<br>        <span class="hljs-keyword">try</span> (Scanner scanner = <span class="hljs-keyword">new</span> Scanner(System.in)) &#123;<br>            <span class="hljs-keyword">boolean</span> logged = <span class="hljs-keyword">false</span>;<br>            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;<br>                System.out.println(<span class="hljs-string">&quot;Please select: [C]Creat Administrator\t[L]Login\t[A]Add\t[D]Delete\t[F]Find\t[S]Show All\t[E]Exit&quot;</span>);<br>                String type = scanner.next();<br>                <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;C&quot;</span>)) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;Please input your username:&quot;</span>);<br>                    String username = scanner.next();<br>                    System.out.println(<span class="hljs-string">&quot;Please input your password:&quot;</span>);<br>                    String password = scanner.next();  <span class="hljs-comment">// 不隐藏输入</span><br><span class="hljs-comment">//                    Console con = System.console();</span><br><span class="hljs-comment">//                    String password = new String(con.readPassword());  // 隐藏输入，在IDE中不可行，因为控制台被重定向了</span><br>                    <span class="hljs-keyword">if</span> (administrators.get(username) == <span class="hljs-keyword">null</span>) &#123;<br>                        administrators.put(username, password);<br>                        System.out.println(<span class="hljs-string">&quot;Creat succeeded!&quot;</span>);<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        System.out.println(<span class="hljs-string">&quot;Creat failed!&quot;</span>);<br>                    &#125;<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;L&quot;</span>)) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;Please input your username:&quot;</span>);<br>                    String username = scanner.next();<br>                    System.out.println(<span class="hljs-string">&quot;Please input your password:&quot;</span>);<br>                    String password = scanner.next();<br><span class="hljs-comment">//                    Console con = System.console();</span><br><span class="hljs-comment">//                    String password = new String(con.readPassword());</span><br>                    <span class="hljs-keyword">if</span> (administrators.get(username) != <span class="hljs-keyword">null</span> &amp;&amp; administrators.get(username).equals(password)) &#123;<br>                        System.out.println(<span class="hljs-string">&quot;Login succeeded!&quot;</span>);<br>                        logged = <span class="hljs-keyword">true</span>;<br>                        studentAdministrator = <span class="hljs-keyword">new</span> StudentAdministrator();<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        System.out.println(<span class="hljs-string">&quot;Login failed!&quot;</span>);<br>                    &#125;<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;E&quot;</span>)) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;Exit succeeded!&quot;</span>);<br>                    <span class="hljs-keyword">break</span>;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">if</span> (logged) &#123;<br>                        <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;A&quot;</span>)) &#123;<br>                            System.out.println(<span class="hljs-string">&quot;Please input student&#x27;s name:&quot;</span>);<br>                            String name = scanner.next();<br>                            System.out.println(<span class="hljs-string">&quot;Please input 8-digit student&#x27;s studentID:&quot;</span>);<br>                            String studentID = scanner.next();<br>                            System.out.println(<span class="hljs-string">&quot;Please input student&#x27;s age:&quot;</span>);<br>                            <span class="hljs-keyword">int</span> age;<br>                            <span class="hljs-keyword">try</span> &#123;<br>                                age = scanner.nextInt();<br>                            &#125; <span class="hljs-keyword">catch</span> (InputMismatchException ex) &#123;<br>                                System.out.println(<span class="hljs-string">&quot;Invalid input!&quot;</span>);<br>                                scanner.next();  <span class="hljs-comment">// 读入并丢弃异常的输入</span><br>                                <span class="hljs-keyword">continue</span>;<br>                            &#125;<br>                            System.out.println(<span class="hljs-string">&quot;Please input student&#x27;s major:&quot;</span>);<br>                            String major = scanner.next();<br>                            <span class="hljs-keyword">if</span> (studentAdministrator.add(<span class="hljs-keyword">new</span> Student(name, studentID, age, major))) &#123;<br>                                System.out.println(<span class="hljs-string">&quot;Added successfully!&quot;</span>);<br>                            &#125; <span class="hljs-keyword">else</span> &#123;<br>                                System.out.println(<span class="hljs-string">&quot;Added failed!&quot;</span>);<br>                            &#125;<br>                        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;D&quot;</span>)) &#123;<br>                            System.out.println(<span class="hljs-string">&quot;Please input 8-digit student&#x27;s studentID:&quot;</span>);<br>                            String studentID = scanner.next();<br>                            <span class="hljs-keyword">if</span> (studentAdministrator.delete(studentID)) &#123;<br>                                System.out.println(<span class="hljs-string">&quot;Delete successfully!&quot;</span>);<br>                            &#125; <span class="hljs-keyword">else</span> &#123;<br>                                System.out.println(<span class="hljs-string">&quot;Delete failed!&quot;</span>);<br>                            &#125;<br>                        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;F&quot;</span>)) &#123;<br>                            System.out.println(<span class="hljs-string">&quot;Please input student&#x27;s name:&quot;</span>);<br>                            String name = scanner.next();<br>                            List&lt;Student&gt; found = studentAdministrator.find(name);<br>                            System.out.println(<span class="hljs-string">&quot;Find &quot;</span> + found.size() + <span class="hljs-string">&quot; students!&quot;</span>);<br>                            <span class="hljs-keyword">for</span> (Student student : found) &#123;<br>                                student.display();<br>                            &#125;<br>                        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type.equalsIgnoreCase(<span class="hljs-string">&quot;S&quot;</span>)) &#123;<br>                            studentAdministrator.showAll();<br>                        &#125;<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        System.out.println(<span class="hljs-string">&quot;Please login first!&quot;</span>);<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="运行截图-6"><a href="#运行截图-6" class="headerlink" title="运行截图"></a>运行截图</h4><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222108247.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222109679.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222114282.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222109641.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112222110090.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h3 id="分析-8"><a href="#分析-8" class="headerlink" title="分析"></a>分析</h3><p>一道比较简单的模拟题，大二时我们在程序设计综合实践课上做过更加复杂的例子。</p>
<p>首先我认为需要有学生类Student</p>
<p>还需要一个学生管理员类StudentAdministrator用于管理学生</p>
<p>最后在主类里调用学生管理员对象去管理学生对象</p>
<p>要注意的是这里涉及到了数据库的知识，学生表（在这里是<code>List&lt;Student&gt;</code>）的主键是<strong>学号</strong>，所以添加、删除这些操作都需要使用学号完成，同时考虑到非主键会有重复，所以查找操作使用了姓名，当然这种写法只适用于小型系统，如学院、学校的数据库系统，如果同名人数多的系统，如某省的户籍系统，还需要加入其他限定条件。</p>
<p>在基本要求外做了一个比较简单的访问控制，并没有保存它使其持久化。</p>
<p>注意到控制台程序的每个选项间距都不同，因为制表符<code>\t</code>用空格补全其左边字符串，使其长度到8的整数倍（正好是8的倍数也补，不然体现不出按制表键）。</p>
<h2 id="第二题-2"><a href="#第二题-2" class="headerlink" title="第二题"></a>第二题</h2><h3 id="题目-9"><a href="#题目-9" class="headerlink" title="题目"></a>题目</h3><p>一元二次方程类：</p>
<ol>
<li><p>输入一元二次方程的三个系数，确定这个方程式。</p>
<p>标明一个一元二次方程的属性。</p>
<ul>
<li><p>三个系数</p>
<p>$a$, $b$ ,$c$ </p>
</li>
<li><p>两个根(最多)(而且可能是虚根所以用统一的形式表示)<br>$x_1$,$y_1$, $x_2$,$y_2$ </p>
</li>
<li><p>决定根的特征的<br>$\delta=b^2-4ac$</p>
</li>
</ul>
<p>如果是一个一元二次方程需要的操作（注意方法的权限）:</p>
<ul>
<li><p>获取三个系数,确立一元二次方程.</p>
</li>
<li><p>求$\delta=b^2-4ac$</p>
</li>
<li><p>求根(可能是实根,也可能是虚根)</p>
</li>
</ul>
</li>
<li><p>如果二次系数$a$为0 ，主动抛出异常，因为这不满足一元二次方程的条件。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AWrongException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Exception</span></span><br></code></pre></td></tr></table></figure>
</li>
<li><p>把生成的一元二次方程对象（包含根的值）序列化并保存在文件<code>file1.data</code>中。</p>
<ul>
<li>根求出之后，再把对象序列化到文件file1.data中。</li>
</ul>
</li>
</ol>
<p>要求：</p>
<ol>
<li>实现一元二次方程类</li>
<li>在主类中调用这个一元二次方程类。(编程用命令行或者可视化方法获取系数 $a$,$b$,$c$)</li>
</ol>
<h3 id="答案-4"><a href="#答案-4" class="headerlink" title="答案"></a>答案</h3><h4 id="项目结构树-2"><a href="#项目结构树-2" class="headerlink" title="项目结构树"></a>项目结构树</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">D:.                     <br>└─src<br>    └─edu<br>        └─wanpengxu    <br>            └─homework3<br>                └─second<br>                        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">AWrongException</span>.</span></span>java<br>                        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Equation</span>.</span></span>java<br>                        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Test</span>.</span></span>java<br></code></pre></td></tr></table></figure>
<h4 id="代码-7"><a href="#代码-7" class="headerlink" title="代码"></a>代码</h4><h5 id="核心代码"><a href="#核心代码" class="headerlink" title="核心代码"></a>核心代码</h5><p>Equation.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.Serializable;<br><span class="hljs-keyword">import</span> java.lang.Math;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Equation</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> a, b, c;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> x1, x2;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> r, v;  <span class="hljs-comment">// r:实部 v:虚部</span><br>    <span class="hljs-keyword">int</span> type;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Equation</span><span class="hljs-params">(<span class="hljs-keyword">double</span> a, <span class="hljs-keyword">double</span> b, <span class="hljs-keyword">double</span> c)</span> <span class="hljs-keyword">throws</span> AWrongException </span>&#123;<br>        <span class="hljs-keyword">if</span> (a == <span class="hljs-number">0</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> AWrongException(<span class="hljs-string">&quot;二次项系数不能为0！&quot;</span>);<br>        <span class="hljs-keyword">this</span>.a = a;<br>        <span class="hljs-keyword">this</span>.b = b;<br>        <span class="hljs-keyword">this</span>.c = c;<br>        System.out.println(<span class="hljs-string">&quot;成功创建一元二次方程组：&quot;</span>);<br>        System.out.print((a == <span class="hljs-number">1</span> ? <span class="hljs-string">&quot;&quot;</span> : a) + <span class="hljs-string">&quot;x^2&quot;</span>);  <span class="hljs-comment">// 系数为1时省略</span><br>        <span class="hljs-keyword">if</span> (b != <span class="hljs-number">0</span>) System.out.print(<span class="hljs-string">&quot;+&quot;</span> + (b == <span class="hljs-number">1</span> ? <span class="hljs-string">&quot;&quot;</span> : b) + <span class="hljs-string">&quot;x&quot;</span>);<br>        <span class="hljs-keyword">if</span> (c != <span class="hljs-number">0</span>) System.out.print(<span class="hljs-string">&quot;+&quot;</span> + c);<br>        System.out.println(<span class="hljs-string">&quot;=0&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> <span class="hljs-title">calculateDelta</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> Math.pow(b, <span class="hljs-number">2</span>) - <span class="hljs-number">4</span> * a * c;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">double</span> delta = calculateDelta();<br>        <span class="hljs-keyword">if</span> (Math.abs(delta) &lt; <span class="hljs-number">1e-5</span>) &#123;<br>            type = <span class="hljs-number">0</span>;<br>            x1 = x2 = -b / (<span class="hljs-number">2</span> * a);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (delta &gt; <span class="hljs-number">0</span>) &#123;<br>            type = <span class="hljs-number">1</span>;<br>            x1 = (-b - Math.sqrt(delta)) / (<span class="hljs-number">2</span> * a);<br>            x2 = (-b + Math.sqrt(delta)) / (<span class="hljs-number">2</span> * a);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            type = <span class="hljs-number">2</span>;<br>            r = -b / (<span class="hljs-number">2</span> * a);<br>            v = Math.sqrt(-delta) / (<span class="hljs-number">2</span> * a);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">switch</span> (type) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> -&gt; System.out.println(<span class="hljs-string">&quot;该一元二次方程有两个相等的实数根：\nx1=x2=&quot;</span> + x1);<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> -&gt; System.out.println(<span class="hljs-string">&quot;该一元二次方程有两个不同的实数根：\nx1=&quot;</span> + x1 + <span class="hljs-string">&#x27;\n&#x27;</span> + <span class="hljs-string">&quot;x2=&quot;</span> + x2);<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> -&gt; System.out.printf(<span class="hljs-string">&quot;该一元二次方程有两个不同的复数根：\nx1=%1$s+%2$si\nx2=%1$s-%2$si\n&quot;</span>, r, v);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getSolution</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">switch</span> (type) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> -&gt; String.format(<span class="hljs-string">&quot;该一元二次方程有两个相等的实数根：\nx1=x2=%s&quot;</span>, x1);<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> -&gt; String.format(<span class="hljs-string">&quot;该一元二次方程有两个不同的实数根：\nx1=%s\nx2=%s&quot;</span>, x1, x2);<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> -&gt; String.format(<span class="hljs-string">&quot;该一元二次方程有两个不同的复数根：\nx1=%1$s+%2$si\nx2=%1$s-%2$si\n&quot;</span>, r, v);<br>            <span class="hljs-keyword">default</span> -&gt; <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">&quot;Unexpected value: &quot;</span> + type);<br>        &#125;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>AWrongException.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework3.second;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AWrongException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Exception</span></span>&#123;  <span class="hljs-comment">// 系数a错误异常</span><br>    AWrongException(String s)&#123;<br>        <span class="hljs-keyword">super</span>(s);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h5 id="控制台程序"><a href="#控制台程序" class="headerlink" title="控制台程序"></a>控制台程序</h5><p>Test.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework3.second;<br><br><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">try</span> (Scanner sc = <span class="hljs-keyword">new</span> Scanner(System.in)) &#123;<br>            System.out.println(<span class="hljs-string">&quot;请输入一元二次方程的系数：&quot;</span>);<br>            <span class="hljs-keyword">double</span> a = sc.nextDouble();<br>            <span class="hljs-keyword">double</span> b = sc.nextDouble();<br>            <span class="hljs-keyword">double</span> c = sc.nextDouble();<br>            <span class="hljs-keyword">try</span> &#123;<br>                Equation equation = <span class="hljs-keyword">new</span> Equation(a, b, c);<br>                equation.solve();<br>                equation.display();<br>                <span class="hljs-keyword">try</span> (FileOutputStream fileOutputStream = <span class="hljs-keyword">new</span> FileOutputStream(<span class="hljs-string">&quot;file1.data&quot;</span>);<br>                     ObjectOutputStream objectOutputStream = <span class="hljs-keyword">new</span> ObjectOutputStream(fileOutputStream)) &#123;<br>                    objectOutputStream.writeObject(equation);<br>                    System.out.println(<span class="hljs-string">&quot;已将一元二次方程对象序列化为byte数组保存至文件\&quot;file1.data\&quot;中&quot;</span>);<br>                &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                    System.out.println(e.getMessage());<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (AWrongException e) &#123;<br>                System.out.println(e.getMessage());<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">try</span> (FileInputStream fileInputStream = <span class="hljs-keyword">new</span> FileInputStream(<span class="hljs-string">&quot;file1.data&quot;</span>);<br>             ObjectInputStream objectInputStream = <span class="hljs-keyword">new</span> ObjectInputStream(fileInputStream)) &#123;<br>            Equation equation = (Equation) objectInputStream.readObject();<br>            System.out.println(<span class="hljs-string">&quot;已将文件\&quot;file1.data\&quot;中的byte数组反序列化为一元二次方程对象&quot;</span>);<br>            equation.display();<br>        &#125; <span class="hljs-keyword">catch</span> (IOException | ClassNotFoundException e) &#123;<br>            System.out.println(e.getMessage());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h5 id="GUI程序"><a href="#GUI程序" class="headerlink" title="GUI程序"></a>GUI程序</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.formdev.flatlaf.FlatLightLaf;<br><br><span class="hljs-keyword">import</span> javax.swing.*;<br><span class="hljs-keyword">import</span> java.awt.*;<br><span class="hljs-keyword">import</span> java.awt.event.*;<br><span class="hljs-keyword">import</span> java.io.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnivariateQuadraticEquation</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> JPanel mainPanel;<br>    <span class="hljs-keyword">private</span> JTextField textFieldA;<br>    <span class="hljs-keyword">private</span> JTextField textFieldB;<br>    <span class="hljs-keyword">private</span> JTextField textFieldC;<br>    <span class="hljs-keyword">private</span> JButton 求解Button;<br>    <span class="hljs-keyword">private</span> JButton 序列化至文件Button;<br>    <span class="hljs-keyword">private</span> JButton 清空Button;<br>    <span class="hljs-keyword">private</span> JButton 退出Button;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            UIManager.setLookAndFeel(<span class="hljs-keyword">new</span> FlatLightLaf());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception ex) &#123;<br>            System.err.println(<span class="hljs-string">&quot;Failed to initialize LaF&quot;</span>);<br>        &#125;<br><br>        JFrame frame = <span class="hljs-keyword">new</span> JFrame(<span class="hljs-string">&quot;一元二次方程综合工具&quot;</span>);<br><br>        <span class="hljs-keyword">final</span> Toolkit toolkit = Toolkit.getDefaultToolkit();<br>        toolkit.addAWTEventListener(e -&gt; &#123;<br>            <span class="hljs-keyword">if</span> (e.getID() == KeyEvent.KEY_PRESSED) &#123;<br>                KeyEvent evt = (KeyEvent) e;<br>                <span class="hljs-keyword">if</span> (evt.getKeyCode() == KeyEvent.VK_ESCAPE) &#123;<br>                    frame.dispose();  <span class="hljs-comment">// 销毁当前JFrame</span><br>                    System.exit(<span class="hljs-number">0</span>);  <span class="hljs-comment">// 终止当前程序的JVM</span><br>                &#125;<br>            &#125;<br>        &#125;, AWTEvent.KEY_EVENT_MASK);<br><br>        Image icon = toolkit.getImage(<span class="hljs-string">&quot;img/CUMTlogo5.png&quot;</span>);<br>        frame.setIconImage(icon);<br>        frame.setContentPane(<span class="hljs-keyword">new</span> UnivariateQuadraticEquation().mainPanel);<br>        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<br><span class="hljs-comment">//        frame.setSize(400, 130);</span><br>        frame.pack();<br>        frame.setLocationRelativeTo(<span class="hljs-keyword">null</span>);  <span class="hljs-comment">// 这句话要放在形状设置后，否则是将size(0,0)的窗口居中，造成窗口左上角在中间的情况</span><br>        frame.setResizable(<span class="hljs-keyword">false</span>);<br><span class="hljs-comment">//        frame.getContentPane().setBackground(Color.white);</span><br>        frame.setVisible(<span class="hljs-keyword">true</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UnivariateQuadraticEquation</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">// lambda表达式</span><br>        求解Button.addActionListener(e -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">double</span> a = Double.parseDouble(textFieldA.getText());<br>                <span class="hljs-keyword">double</span> b = Double.parseDouble(textFieldB.getText());<br>                <span class="hljs-keyword">double</span> c = Double.parseDouble(textFieldC.getText());<br>                Equation equation = <span class="hljs-keyword">new</span> Equation(a, b, c);<br>                equation.solve();<br>                equation.display();<br>                JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, equation.getSolution(), <span class="hljs-string">&quot;成功&quot;</span>, JOptionPane.INFORMATION_MESSAGE);<br>            &#125; <span class="hljs-keyword">catch</span> (NumberFormatException e1) &#123;<br>                JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, <span class="hljs-string">&quot;请输入合法的系数！&quot;</span>, <span class="hljs-string">&quot;异常&quot;</span>, JOptionPane.WARNING_MESSAGE);<br>            &#125; <span class="hljs-keyword">catch</span> (AWrongException e2) &#123;<br>                JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, e2.getMessage(), <span class="hljs-string">&quot;异常&quot;</span>, JOptionPane.WARNING_MESSAGE);<br><span class="hljs-comment">//                e2.printStackTrace();</span><br>            &#125;<br>        &#125;);<br>        <span class="hljs-comment">// 匿名内部类</span><br>        序列化至文件Button.addActionListener(<span class="hljs-keyword">new</span> ActionListener() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span><span class="hljs-params">(ActionEvent e)</span> </span>&#123;<br>                <span class="hljs-keyword">try</span> (FileOutputStream fileOutputStream = <span class="hljs-keyword">new</span> FileOutputStream(<span class="hljs-string">&quot;file1.data&quot;</span>); ObjectOutputStream objectOutputStream = <span class="hljs-keyword">new</span> ObjectOutputStream(fileOutputStream)) &#123;<br>                    <span class="hljs-keyword">double</span> a = Double.parseDouble(textFieldA.getText());<br>                    <span class="hljs-keyword">double</span> b = Double.parseDouble(textFieldB.getText());<br>                    <span class="hljs-keyword">double</span> c = Double.parseDouble(textFieldC.getText());<br>                    Equation equation = <span class="hljs-keyword">new</span> Equation(a, b, c);<br>                    objectOutputStream.writeObject(equation);<br>                    JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, <span class="hljs-string">&quot;已将一元二次方程对象序列化为byte数组保存至文件\&quot;file1.data\&quot;中&quot;</span>, <span class="hljs-string">&quot;消息提示&quot;</span>, JOptionPane.INFORMATION_MESSAGE);<br>                &#125; <span class="hljs-keyword">catch</span> (NumberFormatException e1) &#123;<br>                    JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, <span class="hljs-string">&quot;请输入合法的系数！&quot;</span>, <span class="hljs-string">&quot;异常&quot;</span>, JOptionPane.WARNING_MESSAGE);<br>                &#125; <span class="hljs-keyword">catch</span> (IOException | AWrongException e2) &#123;<br>                    <span class="hljs-comment">// 这里用word打开可以测试占用</span><br>                    JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, e2.getMessage(), <span class="hljs-string">&quot;异常&quot;</span>, JOptionPane.WARNING_MESSAGE);<br>                    e2.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;);<br>        清空Button.addActionListener(e -&gt; &#123;<br>            textFieldA.setText(<span class="hljs-string">&quot;&quot;</span>);<br>            textFieldB.setText(<span class="hljs-string">&quot;&quot;</span>);<br>            textFieldC.setText(<span class="hljs-string">&quot;&quot;</span>);<br>        &#125;);<br>        退出Button.addActionListener(e -&gt; System.exit(<span class="hljs-number">0</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="运行截图-7"><a href="#运行截图-7" class="headerlink" title="运行截图"></a>运行截图</h4><h5 id="控制台程序-1"><a href="#控制台程序-1" class="headerlink" title="控制台程序"></a>控制台程序</h5><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230028159.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230031849.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230035155.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h5 id="GUI程序-1"><a href="#GUI程序-1" class="headerlink" title="GUI程序"></a>GUI程序</h5><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230035711.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230055042.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230035766.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202112230034556.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h3 id="分析-9"><a href="#分析-9" class="headerlink" title="分析"></a>分析</h3><p>模拟题，用一些基本的数学知识可以写出核心代码，这里我认为解的形式都应该是<code>double</code>，如果将复数解作为一个整体，那么要么用<code>String</code>表示，要么自己写一个复数类，前者不那么专业，后者使程序复杂，所以我认为将实部（real part）和虚部（imaginary part）拆开都用基本数据类型<code>double</code>表示更优。</p>
<p>再用一些课上的知识可以写出控制台程序</p>
<p>GUI程序需要自己学习，不过在周三的课上已经讲了很大一部分，包括监听器的三种回调方式，所以我在课内基本目标外实现的主要有：</p>
<ol>
<li>按ESC键退出，知识是任意componet监听，详见GUI程序中的<code>toolkit.addAWTEventListener(...)</code>。</li>
<li>程序自定义图标，调<code>JFrame.setIconImage(Image)</code>即可，但将其打包到JAR中有难度。</li>
<li>界面美化，swing支持第三方主题包，我使用的是<code>Intelli IDEA</code>同款主题<code>FlatLaf</code>，使用方法是在项目中导入JAR，之后使用初始化语句<code>UIManager.setLookAndFeel(new FlatLightLaf());</code>即可。另外，可将LookAndFeel译为“观感”。</li>
</ol>
<h1 id="作业四"><a href="#作业四" class="headerlink" title="作业四"></a>作业四</h1><h2 id="第一题-3"><a href="#第一题-3" class="headerlink" title="第一题"></a>第一题</h2><h3 id="题目-10"><a href="#题目-10" class="headerlink" title="题目"></a>题目</h3><p>输入三个字符串，分别：</p>
<ol>
<li><p>必须满足密码复杂性要求（认证需求）</p>
</li>
<li><p>满足身份证号码规范（15位/18位）</p>
</li>
<li><p>满足电子邮件规范</p>
</li>
</ol>
<h3 id="答案-5"><a href="#答案-5" class="headerlink" title="答案"></a>答案</h3><h4 id="代码-8"><a href="#代码-8" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework4.first;<br><br><span class="hljs-keyword">import</span> java.io.Console;<br><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">import</span> java.util.regex.Pattern;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isIdCard</span><span class="hljs-params">(String idCard)</span> </span>&#123;<br>        String idCardCheck = <span class="hljs-string">&quot;(^[1-8]\\d((0[1-9])|([1-6][0-9])|70|90)(0[1-9]|1[0-8]|2[1-9]|[3-9][0-9])(19|20)\\d&#123;2&#125;((0[1-9])|(1[0-2]))(([0-2][1-9])|[1-3]0|31)\\d&#123;3&#125;[0-9Xx]$)|&quot;</span> + <span class="hljs-string">&quot;(^[1-8]\\d((0[1-9])|([1-6][0-9])|70|90)(0[1-9]|1[0-8]|2[1-9]|[3-9][0-9])\\d&#123;2&#125;((0[1-9])|(1[0-2]))(([0-2][1-9])|[1-3]0|31)\\d&#123;3&#125;$)&quot;</span>;<br>        <span class="hljs-comment">// 检测空指针和空串</span><br>        <span class="hljs-keyword">if</span> (idCard == <span class="hljs-keyword">null</span> || <span class="hljs-string">&quot;&quot;</span>.equals(idCard)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-comment">// 正则检查格式正确性</span><br>        <span class="hljs-keyword">if</span> (!Pattern.compile(idCardCheck).matcher(idCard).matches()) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-comment">// 若为18位则对校验位进行校验</span><br>        <span class="hljs-keyword">if</span> (idCard.length() == <span class="hljs-number">18</span>) &#123;<br>            <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">17</span>; index++)<br>                sum += (Math.pow(<span class="hljs-number">2</span>, <span class="hljs-number">17</span> - index) % <span class="hljs-number">11</span>) * (idCard.charAt(index) - <span class="hljs-string">&#x27;0&#x27;</span>);<br>            <span class="hljs-keyword">char</span> checkBit = (<span class="hljs-keyword">char</span>) (<span class="hljs-string">&#x27;0&#x27;</span> + ((<span class="hljs-number">12</span> - sum % <span class="hljs-number">11</span>) % <span class="hljs-number">11</span>));<br>            checkBit = checkBit == (<span class="hljs-string">&#x27;0&#x27;</span> + <span class="hljs-number">10</span>) ? <span class="hljs-string">&#x27;X&#x27;</span> : checkBit;  <span class="hljs-comment">// 最后一位若为阿拉伯数字10则用罗马数字X表示</span><br>            <span class="hljs-keyword">return</span> Character.toString(checkBit).equalsIgnoreCase(String.valueOf(idCard.charAt(<span class="hljs-number">17</span>)));<br>        &#125;<br>        <span class="hljs-comment">// 若为15位,不需校验</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;欢迎来到邮箱注册程序！&quot;</span>);<br>        <span class="hljs-keyword">try</span> (Scanner scanner = <span class="hljs-keyword">new</span> Scanner(System.in)) &#123;<br>            <span class="hljs-comment">// ^[\\w!#$%&amp;’*+/=?`&#123;|&#125;~^-]+(?:\\.[\\w!#$%&amp;’*+/=?`&#123;|&#125;~^-]+)*@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]&#123;2,6&#125;$</span><br>            String emailCheck = <span class="hljs-string">&quot;^(?!.*\\.&#123;2&#125;)[A-Za-z][0-9A-Za-z.]&#123;4,13&#125;[0-9A-Za-z](?!(@\\.|@-|.*\\.-|.*\\.&#123;2&#125;)|.*-\\.|.*\\-&#123;2&#125;)@[0-9A-Za-z-]&#123;1,63&#125;(\\.[0-9A-Za-z-]&#123;1,63&#125;)+$&quot;</span>;<br>            String email;<br>            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;<br>                System.out.println(<span class="hljs-string">&quot;请输入邮箱账号（6~18个字符，可使用字母、数字、下划线，需要以字母开头）&quot;</span>);<br>                email = scanner.nextLine();<br>                <span class="hljs-keyword">if</span> (Pattern.compile(emailCheck).matcher(email).matches()) <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">else</span> System.out.println(<span class="hljs-string">&quot;请检查输入格式！&quot;</span>);<br>            &#125;<br>            <br>            String passwordCheck = <span class="hljs-string">&quot;^(?![A-Za-z0-9]+$)(?![a-z0-9\\W]+$)(?![A-Za-z\\W]+$)(?![A-Z0-9\\W]+$)[a-zA-Z0-9\\W]&#123;8,16&#125;$&quot;</span>;<br>            String password;<br>            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;<br>                System.out.println(<span class="hljs-string">&quot;请输入密码（8~16个字符，需包含“大小写字母、数字、标点符号”中3种或以上的组合）&quot;</span>);<br><span class="hljs-comment">//                password = scanner.nextLine();</span><br>                Console con = System.console();<br>                password = <span class="hljs-keyword">new</span> String(con.readPassword());  <span class="hljs-comment">// 隐藏输入，在IDE中不可行，因为控制台被重定向了</span><br>                <span class="hljs-keyword">if</span> (Pattern.compile(passwordCheck).matcher(password).matches()) <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">else</span> System.out.println(<span class="hljs-string">&quot;请检查输入格式！&quot;</span>);<br>            &#125;<br><br>            String idCard;<br>            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) &#123;<br>                System.out.println(<span class="hljs-string">&quot;请输入您的真实身份证号码&quot;</span>);<br>                idCard = scanner.nextLine();<br>                <span class="hljs-keyword">if</span> (isIdCard(idCard)) <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">else</span> System.out.println(<span class="hljs-string">&quot;请检查输入格式！&quot;</span>);<br>            &#125;<br>            System.out.println(<span class="hljs-string">&quot;注册成功！&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="运行截图-8"><a href="#运行截图-8" class="headerlink" title="运行截图"></a>运行截图</h4><p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021205793.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h3 id="分析-10"><a href="#分析-10" class="headerlink" title="分析"></a>分析</h3><p>构建正则表达式就和写程序一样，要由编译器运行起来才能直观地看到结果，这里可以使用<a target="_blank" rel="noopener" href="https://c.runoob.com/front-end/854/">正则表达式在线测试| 菜鸟工具</a></p>
<h4 id="电子邮件匹配"><a href="#电子邮件匹配" class="headerlink" title="电子邮件匹配"></a>电子邮件匹配</h4><p>首先，要对电子邮件进行匹配，就需要了解电子邮件规范RFC 5322</p>
<h5 id="RFC-5322"><a href="#RFC-5322" class="headerlink" title="RFC 5322"></a>RFC 5322</h5><p>电子邮件地址的域内部分可以使用以下任何<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ASCII">ASCII</a>字符：</p>
<ul>
<li>大小写拉丁字母<code>A</code>到<code>Z</code>和<code>a</code>到<code>z</code>；</li>
<li>数字<code>0</code>到<code>9</code>；</li>
<li>除了字母与数字之外的可打印字符，<code>!#$%&amp;&#39;*+-/=?^_`&#123;|&#125;~</code>；</li>
<li>点<code>.</code>，但不能作为首尾字符，也不能连续出现，若放在引号中则不受这些限制（例如<code>John..Doe@example.com</code>是不允许的，而<code>&quot;John..Doe&quot;@example.com</code>是允许的）。</li>
<li>空格和特殊字符<code>&quot;(),:;&lt;&gt;@[\]</code>被允许有限制地使用（域内部分字符串必须放在引号中，后面的段落将会描述，并且，反斜杠或双引号之前，必须加一个反斜杠来转义）；</li>
<li>允许将注释放在小括号内，并放在域内部分的开头或结尾，例如<code>john.smith(comment)@example.com</code>和<code>(comment)john.smith@example.com</code>都等同于<code>john.smith@example.com</code>。</li>
</ul>
<p>电子邮件地址的域名部分必须符合严格的规则：它必须满足对主机名的要求，一个以点分隔的DNS标签序列，每个标签被限定为长度不超过63个字符，且只能由下列字符组成：</p>
<ul>
<li>大小写拉丁字母<code>A</code>到<code>Z</code>和<code>a</code>到<code>z</code>；</li>
<li>数字<code>0</code>到<code>9</code>，但顶级域名不能是纯数字；</li>
<li>连字符<code>-</code>，但不能作为首尾字符。</li>
</ul>
<p>可以看出，RFC 5322电子邮件规范包含范围广泛的特殊字符，虽然在技术上可行，但在实践中往往并不能接受所有这些字符。</p>
<p>所以我们需要调研知名邮箱的电子邮件规范，我在这里选择了国内最流行的163邮箱和国际最流行的gmail邮箱，他们在格式错误时都会回显原因。</p>
<h5 id="域内部分"><a href="#域内部分" class="headerlink" title="域内部分"></a>域内部分</h5><p><strong>网易 163邮箱</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020123477.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p>163给出的邮箱规范很具体，我们可以自行测试它的细则。</p>
<ol>
<li>邮箱地址需以字母或数字结尾</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020940484.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p> <strong>Google gmail邮箱</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020125971.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p>gmail给出的邮箱规范很简洁，我们也可以自行测试它的细则。</p>
<ol>
<li>用户名的字符数须介于6到30之间。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020133746.png" srcset="/img/loading.gif" lazyload alt=""></p>
<ol>
<li>用户名的8个或以上字符中应至少包括一个字母（a-z）</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020943254.png" srcset="/img/loading.gif" lazyload alt=""></p>
<ol>
<li>只能使用字母（a-z）、数字（0-9）和数点（.）</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021030651.png" srcset="/img/loading.gif" lazyload alt=""></p>
<ol>
<li>用户名的最后一个字符必须为ASCII字母（a-z）或数字（0-9）</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201020943237.png" srcset="/img/loading.gif" lazyload alt=""></p>
<ol>
<li>用户名中不能包含连续的数点（.）</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021015819.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p>我还对Microsoft outlook邮箱的电子邮件规范进行了调研，个人认为outlook邮箱的格式太过宽泛（比如单个字母可以作为用户名，且用户名最长可达65位），实现出来并不利于使用。</p>
<p>对以上规范进行总结，得到实践中的电子邮件规范：</p>
<ol>
<li>用户名的字符数介于一定范围</li>
<li>可用字符为大小写字母（<code>a-z</code>和<code>A-Z</code>）、数字（<code>0-9</code>）、一些特殊符号（<code>-_.</code>）</li>
<li>用户名至少包含一个字母（有些邮箱要求其在开头，有些邮箱在小于一定长度时不要求）</li>
<li>用户名的结束字符为字母或数字（有些邮箱允许<code>_-</code>）</li>
</ol>
<p>那么我们可以制定一个属于自己的、简易的邮箱规范：</p>
<ol>
<li><strong>用户名的字符数须介于6到15之间；</strong></li>
<li><strong>用户名可使用字母（<code>a-z</code>和<code>A-Z</code>）、数字（<code>0-9</code>）、数点（<code>.</code>）；</strong></li>
<li><strong>用户名需要以字母（<code>a-z</code>和<code>A-Z</code>）开头；</strong></li>
<li><strong>用户名中不能包含连续的数点（<code>.</code>）；</strong></li>
<li><strong>用户名需要以字母或数字（<code>a-z</code>和<code>A-Z</code>和<code>0-9</code>）结尾。</strong></li>
</ol>
<p>开始构建表达式吧！</p>
<ul>
<li><code>^</code>正则表达式开始符</li>
<li><code>(?!.*\.&#123;2&#125;)</code>不允许两个以上的句点（环视技术，详见1.3.2）</li>
<li><code>[A-Za-z]</code>开头部分的拉丁字母</li>
<li><code>[0-9A-Za-z.]&#123;4,13&#125;</code>中间部分的允许字符</li>
<li><code>[0-9A-Za-z]</code>结尾部分的拉丁字母或数字</li>
<li><code>$</code>正则表达式结束符</li>
</ul>
<p>最后可得</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^(?!.*\.&#123;2&#125;)[A-Za-z][0-9A-Za-z.]&#123;4,13&#125;[0-9A-Za-z]$&quot;</span><br></code></pre></td></tr></table></figure>
<p>当然我也搜索学习了RFC 5322电子邮件规范的正则匹配表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^[\w!#$%&amp;’*+/=?`&#123;|&#125;~^-]+(?:\.[\\w!#$%&amp;’*+/=?`&#123;|&#125;~^-]+)*$&quot;</span><br></code></pre></td></tr></table></figure>
<h5 id="域名部分"><a href="#域名部分" class="headerlink" title="域名部分"></a>域名部分</h5><p>RFC 5322制定的电子邮件规范在这里需求较少，直接构建正则表达式即可。</p>
<ul>
<li><code>^</code>正则表达式开始符</li>
<li><code>(?!(@\.|@-|.*\.-|.*\.&#123;2&#125;)|.*-\.|.*\-&#123;2&#125;)</code> <code>@</code>后不能接<code>.</code>，<code>@</code>后不能接<code>-</code> ，<code>.</code>后不能接<code>-</code>，<code>.</code>后不能接<code>.</code>，<code>-</code>后不能接<code>.</code>，<code>-</code>后不能接·<code>-</code></li>
<li><code>@[0-9A-Za-z-]&#123;1,63&#125;</code>第一段DNS标签（@开头），出现一次</li>
<li><code>(\.[0-9A-Za-z-]&#123;1,63&#125;)+</code>第二段DNS标签及其之后的DNS标签（.开头），出现至少一次（用<code>+</code>匹配）</li>
<li><code>$</code>正则表达式结束符</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^(?!(@\.|@-|.*\.-|.*\.&#123;2&#125;)|.*-\.|.*\-&#123;2&#125;)@[0-9A-Za-z-]&#123;1,63&#125;(\.[0-9A-Za-z-]&#123;1,63&#125;)+$&quot;</span><br></code></pre></td></tr></table></figure>
<p>综上，得到最终电子邮件匹配正则表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^(?!.*\.&#123;2&#125;)[A-Za-z][0-9A-Za-z.]&#123;4,13&#125;[0-9A-Za-z](?!(@\.|@-|.*\.-|.*\.&#123;2&#125;)|.*-\.|.*\-&#123;2&#125;)@[0-9A-Za-z-]&#123;1,63&#125;(\.[0-9A-Za-z-]&#123;1,63&#125;)+$&quot;</span><br></code></pre></td></tr></table></figure>
<p>经测试，可以实现上述的所有功能，放一张成功匹配的截图。</p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021158510.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h4 id="密码匹配"><a href="#密码匹配" class="headerlink" title="密码匹配"></a>密码匹配</h4><p>同样地，首先我们需要制定一个密码复杂性要求。</p>
<p>对于密码，或者说口令，并没有严格的规范，我们先看一下163邮箱的密码复杂性要求。</p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021457100.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p>我们可以在此基础上制定一个更严格的复杂性要求：</p>
<ol>
<li><strong>8~16个字符</strong></li>
<li><strong>需包含“大写字母、小写字母、数字、标点符号”中4种或以上的组合</strong></li>
</ol>
<p>因为只对字符集进行了规定，所以很好构建正则表达式。</p>
<p>我们先来了解一下<strong>环视</strong></p>
<p>环视（Lookaround）：匹配一个位置而不是字符，因此匹配的结果也可称为零宽字符。具体包括</p>
<ol>
<li><p>Lookahead</p>
</li>
<li><p>Lookbehind</p>
</li>
</ol>
<p>Lookahead，中文译作<strong>“正向预查”</strong>，其实字面意思就是<strong>向前看</strong>，也就是向字符串的右边看。</p>
<p>Lookbehind，中文译作<strong>“负向预查”</strong>，其实字面意思就是<strong>向后看</strong>，也就是向字符串的左边看。</p>
<p>接下来介绍一下环视所使用的符号</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>(</td>
<td>环视起始符</td>
</tr>
<tr>
<td>?</td>
<td>零宽字符，也就是位置，后续的操作就是选出合适的位置</td>
</tr>
<tr>
<td>&lt;</td>
<td>Lookbehind，向零宽字符的左边看</td>
</tr>
<tr>
<td>（啥也不加，缺省）</td>
<td>Lookahead，向零宽字符的右边看</td>
</tr>
<tr>
<td>=</td>
<td>肯定形式，选出满足（有）其后pattern的零宽字符</td>
</tr>
<tr>
<td>!</td>
<td>否定形式，选出不满足（没有）其后pattern的零宽字符</td>
</tr>
<tr>
<td>$</td>
<td>字符串结尾</td>
</tr>
<tr>
<td>)</td>
<td>环视结束符</td>
</tr>
</tbody>
</table>
</div>
<p>在这里直接对我的正则表达式进行说明即可理解环视。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^(?![A-Za-z0-9]+$)(?![a-z0-9\\W]+$)(?![A-Za-z\\W]+$)(?![A-Z0-9\\W]+$)[a-zA-Z0-9\\W]&#123;8,16&#125;$&quot;</span><br></code></pre></td></tr></table></figure>
<p>首先我们知道四种字符，其共有$\sum\limits<em>{i=1}^{4} C</em>{4}^{i}=4+6+4+1=15$种情况，接下来要对除了$C_{4}^{4}$这种全选情况外的情况进行排除。</p>
<ul>
<li><code>^</code>正则表达式开始符</li>
<li><code>(?![0-9A-Za-z]+$)</code>对整个字符串选出零宽字符后没有数字、大写字母、小写字母三者组合（$\sum\limits<em>{i=1}^{3} C</em>{3}^{i}$）的零宽字符</li>
<li><code>(?![0-9a-z\\W]+$)</code>对整个字符串选出零宽字符后没有数字、小写字母、标点符号三者组合（$\sum\limits<em>{i=1}^{3} C</em>{3}^{i}$）的零宽字符</li>
<li><code>(?![A-Za-z\\W]+$)</code>对整个字符串选出零宽字符后没有大写字母、小写字母、标点符号三者组合（$\sum\limits<em>{i=1}^{3} C</em>{3}^{i}$）的零宽字符</li>
<li><code>(?![0-9A-Z\\W]+$)</code>对整个字符串选出零宽字符后没有数字、大写字母、标点符号三者组合（$\sum\limits<em>{i=1}^{3} C</em>{3}^{i}$）的零宽字符</li>
<li><code>[0-9A-Za-z\\W]&#123;8,16&#125;</code>从选出的零宽字符起，选中含有8~16个数字、大写字母、小写字母、标点符号的字符串。进行到这步时，因为前面几种环视已经排除掉了$\sum\limits<em>{i=1}^{3} C</em>{4}^{i}=14$种情况，所以选中的字符串必是四种符号的全选情况。</li>
<li><code>$</code>正则表达式结束符</li>
</ul>
<p>这其中<code>\W</code>代表匹配任何非单词字符，当然也可以自己指定允许的标点符号集合（注意这个转义字符包含<code>_</code>）。</p>
<p>下两张图可区分选中零宽字符和选中字符串。</p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021540551.png" srcset="/img/loading.gif" lazyload alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021545898.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h4 id="身份证号码匹配"><a href="#身份证号码匹配" class="headerlink" title="身份证号码匹配"></a>身份证号码匹配</h4><h5 id="格式匹配"><a href="#格式匹配" class="headerlink" title="格式匹配"></a>格式匹配</h5><p>对百位数以下的数字匹配时可以想象出一个每行10个数的表格（个位数0-9），中括号匹配时相当于用矩形选中，每次可能框最多的元素</p>
<p>十八位身份证正则表达式说明：</p>
<ul>
<li><code>^</code>                                                                                  正则表达式开头</li>
<li><code>[1-8]</code>                                                                          大区制代码，全国共分1-8八个大区</li>
<li><code>\\d</code>                                                                              省市编码</li>
<li><code>( (0[1-9]) | ([1-6][0-9]) | 70 | 90 )</code>       地级行政区：01-70一般 90直辖</li>
<li><code>( 0[1-9] | 1[0-8] | 2[1-9] |[3-9][0-9] )</code> 县级行政区：01-18、21-99</li>
<li><code>( 19|20 )</code>                                                                  生日期码，年份前两位</li>
<li><code>\\d&#123;2&#125;</code>                                                                        生日期码，年份后两位</li>
<li><code>( (0[1-9]) | (1[0-2]) )</code>                                    生日期码，月份</li>
<li><code>( ([0-2][1-9]) | [1-3]0 |31 )</code>                        生日期码，日期</li>
<li><code>\\d&#123;3&#125;</code>                                                                        顺序码</li>
<li><code>[0-9Xx]</code>                                                                      校验码,这里只判断格式而不校验</li>
<li><code>$</code>                                                                                   正则表达式结尾<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^[1-8]\\d((0[1-9])|([1-6][0-9])|70|90)(0[1-9]|1[0-8]|2[1-9]|[3-9][0-9])(19|20)\\d&#123;2&#125;((0[1-9])|(1[0-2]))(([0-2][1-9])|[1-3]0|31)\\d&#123;3&#125;[0-9Xx]$&quot;</span><br></code></pre></td></tr></table></figure>
十五位身份证正则表达式说明：<br>只是在十八位身份证的基础上去掉了 <strong>生日期码，年份前两位</strong> 和 <strong>校验码</strong>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;^[1-8]\\d((0[1-9])|([1-6][0-9])|70|90)(0[1-9]|1[0-8]|2[1-9]|[3-9][0-9])       \\d&#123;2&#125;((0[1-9])|(1[0-2]))(([0-2][1-9])|[1-3]0|31)\\d&#123;3&#125;       $&quot;</span><br></code></pre></td></tr></table></figure>
<h5 id="校验码检查"><a href="#校验码检查" class="headerlink" title="校验码检查"></a>校验码检查</h5><p>首先了解一下校验码生成算法</p>
<ol>
<li><p>将身份证号码从左至右标记为 <script type="math/tex">{\displaystyle a_{1},a_{2},\cdots ,a_{18}}</script>；$a_{18}$即为校验码；</p>
</li>
<li><p>计算权重系数${\displaystyle W_{i}=2^{18-i}\ {\bmod {\ }}{11}}$；其中${\displaystyle \ {\bmod {\ }}}$表示求余数。</p>
</li>
</ol>
<p>所以：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"><em>i</em></th>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
<th style="text-align:center">6</th>
<th style="text-align:center">7</th>
<th style="text-align:center">8</th>
<th style="text-align:center">9</th>
<th style="text-align:center">10</th>
<th style="text-align:center">11</th>
<th style="text-align:center">12</th>
<th style="text-align:center">13</th>
<th style="text-align:center">14</th>
<th style="text-align:center">15</th>
<th style="text-align:center">16</th>
<th style="text-align:center">17</th>
<th style="text-align:center">18</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><em>Wi</em></td>
<td style="text-align:center">7</td>
<td style="text-align:center">9</td>
<td style="text-align:center">10</td>
<td style="text-align:center">5</td>
<td style="text-align:center">8</td>
<td style="text-align:center">4</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">6</td>
<td style="text-align:center">3</td>
<td style="text-align:center">7</td>
<td style="text-align:center">9</td>
<td style="text-align:center">10</td>
<td style="text-align:center">5</td>
<td style="text-align:center">8</td>
<td style="text-align:center">4</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p>计算${\displaystyle S=\sum <em>{i=1}^{17}a</em>{i}\cdot W_{i}}$</p>
</li>
<li><p>${\displaystyle a_{18}=(12-(S\ {\bmod {1}}1)){\bmod {1}}1}$</p>
</li>
</ol>
<p>那么根据算法，很容易写出程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">17</span>; index++)<br>	sum += (Math.pow(<span class="hljs-number">2</span>, <span class="hljs-number">17</span> - index) % <span class="hljs-number">11</span>) * (idCard.charAt(index) - <span class="hljs-string">&#x27;0&#x27;</span>);<br><span class="hljs-keyword">char</span> checkBit = (<span class="hljs-keyword">char</span>) (<span class="hljs-string">&#x27;0&#x27;</span> + ((<span class="hljs-number">12</span> - sum % <span class="hljs-number">11</span>) % <span class="hljs-number">11</span>));<br>checkBit = checkBit == (<span class="hljs-string">&#x27;0&#x27;</span> + <span class="hljs-number">10</span>) ? <span class="hljs-string">&#x27;X&#x27;</span> : checkBit;  <span class="hljs-comment">// 最后一位若为阿拉伯数字10则用罗马数字X表示</span><br></code></pre></td></tr></table></figure>
<h2 id="第二题-3"><a href="#第二题-3" class="headerlink" title="第二题"></a>第二题</h2><h3 id="题目-11"><a href="#题目-11" class="headerlink" title="题目"></a>题目</h3><p>利用鼠标事件启动3个线程分别在三个窗口中同时绘制动态图形（图形自选）。</p>
<h3 id="答案-6"><a href="#答案-6" class="headerlink" title="答案"></a>答案</h3><h4 id="代码-9"><a href="#代码-9" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> edu.wanpengxu.homework4.second;<br><br><br><span class="hljs-keyword">import</span> com.formdev.flatlaf.FlatLightLaf;<br><br><span class="hljs-keyword">import</span> javax.swing.*;<br><span class="hljs-keyword">import</span> java.awt.*;<br><span class="hljs-keyword">import</span> java.awt.event.MouseAdapter;<br><span class="hljs-keyword">import</span> java.awt.event.MouseEvent;<br><span class="hljs-keyword">import</span> java.net.URL;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestFrame</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JFrame</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestFrame</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<br>        <span class="hljs-keyword">this</span>.addMouseListener(<span class="hljs-keyword">new</span> MouseAdapter() &#123;<br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">mouseClicked</span><span class="hljs-params">(MouseEvent e)</span> </span>&#123;<br>                startThread();<br>            &#125;<br>        &#125;);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">startThread</span><span class="hljs-params">()</span> </span>&#123;<br>        Thread t1 = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">this</span>);<br>        t1.start();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; ; i = (i + <span class="hljs-number">1</span>) % <span class="hljs-number">10</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                repaint();<br>                Thread.sleep(<span class="hljs-number">500</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>, e.getMessage(), <span class="hljs-string">&quot;Exceptions&quot;</span>, JOptionPane.WARNING_MESSAGE);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">paint</span><span class="hljs-params">(Graphics g)</span> </span>&#123;<br>        <span class="hljs-keyword">super</span>.paint(g);<br>        <span class="hljs-keyword">int</span>[] x = &#123;<span class="hljs-number">80</span> + i * <span class="hljs-number">10</span>, <span class="hljs-number">100</span> + i * <span class="hljs-number">10</span>, <span class="hljs-number">50</span> + i * <span class="hljs-number">10</span>&#125;;<br>        <span class="hljs-keyword">int</span>[] y = &#123;<span class="hljs-number">50</span> + i * <span class="hljs-number">10</span>, <span class="hljs-number">100</span> + i * <span class="hljs-number">10</span>, <span class="hljs-number">80</span> + i * <span class="hljs-number">10</span>&#125;;<br>        <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span>) &#123;<br>            g.drawPolygon(x, y, <span class="hljs-number">3</span>);<br><span class="hljs-comment">//            g.fillOval(50 + i * 10, 50 + i * 10, 100, 100);</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            UIManager.setLookAndFeel(<span class="hljs-keyword">new</span> FlatLightLaf());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception ex) &#123;<br>            System.err.println(<span class="hljs-string">&quot;Failed to initialize LaF&quot;</span>);<br>        &#125;<br>        URL imgURL = TestFrame.class.getResource(<span class="hljs-string">&quot;CUMTlogo.png&quot;</span>);<br>        ImageIcon imageIcon = <span class="hljs-keyword">new</span> ImageIcon(imgURL);<br>        Image image = imageIcon.getImage();<br><br>        TestFrame testFrame1 = <span class="hljs-keyword">new</span> TestFrame();<br>        testFrame1.setBounds(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>);<br>        testFrame1.setIconImage(image);<br>        testFrame1.setTitle(<span class="hljs-string">&quot;Thread1&quot;</span>);<br>        testFrame1.setVisible(<span class="hljs-keyword">true</span>);<br><br>        TestFrame testFrame2 = <span class="hljs-keyword">new</span> TestFrame();<br>        testFrame2.setBounds(<span class="hljs-number">400</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>);<br>        testFrame2.setIconImage(image);<br>        testFrame2.setTitle(<span class="hljs-string">&quot;Thread2&quot;</span>);<br>        testFrame2.setVisible(<span class="hljs-keyword">true</span>);<br><br>        TestFrame testFrame3 = <span class="hljs-keyword">new</span> TestFrame();<br>        testFrame3.setBounds(<span class="hljs-number">700</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>);<br>        testFrame3.setIconImage(image);<br>        testFrame3.setTitle(<span class="hljs-string">&quot;Thread3&quot;</span>);<br>        testFrame3.setVisible(<span class="hljs-keyword">true</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="运行截图-9"><a href="#运行截图-9" class="headerlink" title="运行截图"></a>运行截图</h4><p>三个Frame启动三个Thread，图形绘制时刻由鼠标点击时刻决定。</p>
<p><img src="https://cdn.jsdelivr.net/gh/WanpengXu/myPicGo/img/202201021721091.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h3 id="分析-11"><a href="#分析-11" class="headerlink" title="分析"></a>分析</h3><p>与课上例题没什么区别，例题创建了一个Frame，每个Frame点击后可启动Thread。那完成基本的要求只需要在主函数里再声明两个Frame即可。</p>
<p>为增强可读性，我将图形绘制改为了循环绘制，另外将例题中原程序的实心圆改为了指向右下方的三角形，更改了主题、自定义了图标、增加了异常弹窗等，都是上次GUI作业中使用过的方法。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>
                    
                      <a class="hover-with-bg" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/">Java</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Java/">Java</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/01/09/java-open-exam-study/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">JAVA Open EXAM Study</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/12/11/san-luan-de-zhi-shi-zhi-ta/">
                        <span class="hidden-mobile">散乱的知识之塔</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="twikoo"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/twikoo@1/dist/twikoo.all.min.js', function() {
        var options = Object.assign(
          {"envId":"my-comment-4gzjxuqv80cca5ee","region":"ap-shanghai","path":"window.location.pathname"},
          {
            el: '#twikoo',
            path: 'window.location.pathname',
            onCommentLoaded: function() {
              Fluid.plugins.initFancyBox('#twikoo .tk-content img:not(.tk-owo-emotion)');
            }
          }
        )
        twikoo.init(options)
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script  src="/js/duration.js" ></script> </div> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  





  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>




  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
